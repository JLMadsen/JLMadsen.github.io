<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jlmadsen github io</title>

    <style>

        :root {
            --black: #003049;
            --red: #d62828;
            --orange: #f77f00;
            --tan: #fcbf49;
            --white: #eae2b7;
        }

        body, html {
            height: 100%;
            background: var(--black);
            overflow: hidden;
        }

        #container {
            padding: 20px;
        }

        #title {
            font-size:xx-large;
            color: var(--white);
        }
    </style>
</head>
<body>

    <div id="container">
        <div id="logo">
            <div id="title">JLMadsen.github.io</div>
        </div>

        <div id="post_list">


        </div>

    </div>


    <!--<div class="container">
        <h1>JLMadsen.github.io</h1>
        <h3><a href="/etc/game">Bow & Arrow game</a></h3>
        <h3><a href="/etc/noise">Noise generator</a></h3>
        <ul id="posts_list"></ul>
    </div>-->

    <script>
        (async () => {
            let list = document.getElementById('post_list');
            
            fetch('https://jlmadsen.github.io/posts.txt')
            .then(data => data.text())
            .then(data => data.split('\n'))
            .then(data => {data.pop(); return data})
            .then(posts => {

                console.log(posts)
                
                posts.forEach(p => {
                    let [url, title] = p.split('|');
                    let link = document.createElement('a');
                    url = url.split('/')[2].split('.')[0]
                    link.href= `./post.html?post=${url}`;
                    link.innerText = title;
                    let list_item = document.createElement('li')
                    list_item.appendChild(link)
                    list.appendChild(list_item)
                })
            })
        })()
    </script>
</body>
</html>
